import{_ as N,d as V,u as j,a as D,B as S,c as B,f as l,o as d,g as f,w as t,h as n,i as E,j as s,t as a,n as T,l as w,k as u,m as i}from"./entry-a94e8282.mjs";import{u as U}from"./useTable-bb14322a.mjs";import{u as M}from"./useGroup-e8581b3c.mjs";const P=V({__name:"taggroups",setup(x,{expose:m}){m();const k=j(),o=D(),b=S();b.fetch();const y=B(),{table:c,filterTable:p}=U(),{getApproximateMembersCount:q,deleteGroup:g,showEditGroupDialog:_}=M(),r={runtimeConfig:k,user:o,taggroups:b,$q:y,table:c,filterTable:p,getApproximateMembersCount:q,deleteGroup:g,showEditGroupDialog:_};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),I=s("p",{class:"q-ma-none"}," Autorzy: Grzegorz Perun & Daniel Nguyen ",-1),L={class:"text-grey q-mr-xs"},O={key:0,class:"text-secondary q-mr-xs"},Q={class:"q-mr-xs"},R=i("Usu\u0144 grup\u0119"),W=i("Edytuj dane grupy"),F=["id","href"],H={class:"text-grey q-mr-xs"},J={key:0,class:"text-secondary q-mr-xs"},K={class:"q-mr-xs"},X=["id","href"];function Y(x,m,k,o,b,y){const c=l("q-icon"),p=l("q-spinner"),q=l("q-input"),g=l("q-tooltip"),_=l("q-td"),r=l("q-item-label"),C=l("q-item-section"),v=l("q-item"),z=l("q-list"),A=l("q-card"),G=l("q-table");return d(),f(G,{pagination:o.table.pagination,"onUpdate:pagination":m[1]||(m[1]=e=>o.table.pagination=e),"binary-state-sort":"",color:"secondary",columns:o.table.columns,grid:o.$q.platform.is.mobile,rows:o.taggroups.groups,dense:"",filter:o.table.search,"filter-method":o.filterTable,flat:"",loading:!o.taggroups.groups.length,"rows-per-page-options":[],"visible-columns":["name","members","link"]},{"top-left":t(()=>[n(q,{modelValue:o.table.search,"onUpdate:modelValue":m[0]||(m[0]=e=>o.table.search=e),modelModifiers:{trim:!0},class:"q-mb-sm",color:"secondary",debounce:500,dense:"",label:"Wyszukiwarka grup",loading:!o.taggroups.groups.length,readonly:!o.taggroups.groups.length},E({loading:t(()=>[n(p)]),_:2},[o.taggroups.groups.length>0?{name:"append",fn:t(()=>[n(c,{name:"search"})])}:void 0]),1032,["modelValue","loading","readonly"]),I,s("p",{class:T(["q-mb-sm",{"text-transparent":!o.taggroups.groups.length}])}," Ostatnia aktualizacja: "+a(o.taggroups.lastUpdateDate),3)]),"body-cell-name":t(e=>[n(_,{props:e},{default:t(()=>[s("small",L,a(e.row.index)+". ",1),e.row.members?(d(),w("small",O,a(o.getApproximateMembersCount(e.row.members)),1)):u("",!0),s("span",Q,[i(a(e.row.name)+" ",1),o.user.isLoggedIn&&o.user.isAdmin?(d(),f(c,{key:0,size:"16px",class:"cursor-pointer",color:"secondary",name:"delete_forever",onClick:h=>o.deleteGroup("taggroups",e.row.link)},{default:t(()=>[o.$q.platform.is.mobile?u("",!0):(d(),f(g,{key:0},{default:t(()=>[R]),_:1}))]),_:2},1032,["onClick"])):u("",!0),n(c,{color:"secondary",name:"mode_edit_outline",class:"cursor-pointer",size:"16px",onClick:h=>o.showEditGroupDialog(e.row,o.runtimeConfig.public.taggroupsPath)},{default:t(()=>[n(g,null,{default:t(()=>[W]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),"body-cell-members":t(e=>[n(_,{props:e},{default:t(()=>[s("span",null,a(e.row.members!==0?e.row.members:"N/A"),1)]),_:2},1032,["props"])]),"body-cell-link":t(e=>[n(_,{props:e},{default:t(()=>[s("a",{id:e.row.name.split(" ").join("@"),class:"text-secondary",href:`https://facebook.com/groups/${e.row.link}`,rel:"noopener noreferrer",target:"_blank"}," /"+a(e.row.link),9,F)]),_:2},1032,["props"])]),item:t(e=>[n(A,{class:"col-12 q-mb-md",flat:"",props:e},{default:t(()=>[n(z,{dense:""},{default:t(()=>[n(v,null,{default:t(()=>[n(C,null,{default:t(()=>[n(r,{caption:""},{default:t(()=>[i(a(e.cols[0].label),1)]),_:2},1024),n(r,null,{default:t(()=>[s("small",H,a(e.row.index)+".",1),e.row.members?(d(),w("small",J,a(o.getApproximateMembersCount(e.row.members)),1)):u("",!0),s("span",K,[i(a(e.row.name)+" ",1),n(c,{color:"secondary",name:"mode_edit_outline",size:"16px",onClick:h=>o.showEditGroupDialog(e.row,o.runtimeConfig.public.taggroupsPath)},null,8,["onClick"]),o.user.isLoggedIn&&o.user.isAdmin?(d(),f(c,{key:0,size:"16px",class:"cursor-pointer",color:"secondary",name:"delete_forever",onClick:h=>o.deleteGroup("sections",e.row.link)},null,8,["onClick"])):u("",!0)])]),_:2},1024),n(r,{caption:""},{default:t(()=>[i(a(e.cols[1].label),1)]),_:2},1024),n(r,null,{default:t(()=>[i(a(e.row.members!==0?e.row.members:"N/A"),1)]),_:2},1024),n(r,{caption:""},{default:t(()=>[i(a(e.cols[2].label),1)]),_:2},1024),n(r,null,{default:t(()=>[s("a",{id:e.row.name.split(" ").join("@"),class:"text-secondary",href:`https://facebook.com/groups/${e.cols[1].value}`,rel:"noopener noreferrer",target:"_blank"},"/"+a(e.cols[2].value),9,X)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["pagination","columns","grid","rows","filter","filter-method","loading"])}var oe=N(P,[["render",Y]]);export{oe as default};
