(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{298:function(e,t,n){"use strict";n(61),n(68);t.a=function(){return{setGroupLink:function(link){return link.substring(link.indexOf("/groups/")+"/groups/".length).replace(/(?:(?![0-9A-Za-z])[\s\S])(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*/g,"")}}}},305:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},306:function(e,t,n){"use strict";var o=n(4),r=n(307).trim;o({target:"String",proto:!0,forced:n(308)("trim")},{trim:function(){return r(this)}})},307:function(e,t,n){var o=n(32),r="["+n(305)+"]",l=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),d=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(l,"")),2&e&&(n=n.replace(c,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},308:function(e,t,n){var o=n(10),r=n(305);e.exports=function(e){return o((function(){return!!r[e]()||"​᠎"!="​᠎"[e]()||r[e].name!==e}))}},311:function(e,t,n){"use strict";n.r(t);var o=n(304),r=(n(224),n(31),n(41),n(61),n(116),n(306),n(24)),l=(n(115),n(20)),c=n(309),d=n(298),m=n(77),f=n(225),y=n(151),k=n(60),w=n(52),v=["index","isFavourite"],S=["index"],x={layout:"main",setup:function(){Object(l.d)((function(){m.dataset.groups.length||Object(m.fetchGroups)(),f.dataset.groups.length||Object(f.fetchGroups)()}));var e=Object(d.a)().setGroupLink,t=Object(y.a)().displayNotify,form=Object(l.e)({type:"Sekcja",link:"",name:"",members:0,category:[],keywords:"",isBeingSent:!1,wasSend:!1});function n(){form.link=form.name=form.keywords="",form.members=0,form.category=[],form.isBeingSent=!1,form.wasSend=!0}return Object(l.h)((function(){return form.keywords.value}),(function(){form.keywords.invalid&&(form.keywords.invalid=!1)})),{sections:m.dataset,taggroups:f.dataset,userState:k.userState,setGroupLink:e,displayNotify:t,form:form,submitSubmission:function(){var t="Sekcja"===form.type;if(form.isBeingSent=!0,k.userState.isAdmin){var l=Object(c.a)(new Date,"dd/MM/R"),d={lastUpdateDate:l,groups:t?m.dataset.groups.map((function(e){e.index,e.isFavourite;return Object(o.a)(e,v)})):f.dataset.groups.map((function(e){e.index;return Object(o.a)(e,S)})),name:t?"sections":"taggroups"},y={link:e(form.link),category:form.category,keywords:t&&form.keywords?form.keywords.split(","):null,name:form.name,members:form.members};d.lastUpdateDate=l,d.groups.push(y),r.a.database().ref(t?w.sectionsApiRef:w.taggroupsApiRef).set(d).then((function(){return n()}))}else r.a.database().ref("submissions").child(t?w.sectionsApiRef:w.taggroupsApiRef).push({category:t?form.category:null,keywords:t?form.keywords.split(",").map((function(e){return e.trim().toLowerCase()})):null,link:e(form.link)}).then((function(){return n()}))}}}},j=n(56),component=Object(j.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"row justify-center":!0,"q-pa-md":e.$device.isMobile,"q-pa-lg":e.$device.isDesktopOrTablet}},[e.sections.groups.length>0&&e.taggroups.groups.length>0?n("div",{staticClass:"col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"},[n("q-form",{staticClass:"q-gutter-y-md",on:{submit:function(t){return e.submitSubmission()}}},[n("q-select",{attrs:{color:"secondary",disable:e.form.isBeingSent,label:"Typ grupy",options:["Sekcja","Tag-grupka"],"options-dense":"","options-selected-class":"text-secondary",outlined:"",square:"","stack-label":""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}}),e._v(" "),e.userState.isAdmin?n("q-input",{attrs:{color:"secondary",disable:e.form.isBeingSent,label:"Nazwa grupy",outlined:"",required:"",square:"","stack-label":""},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"create"}})]},proxy:!0}],null,!1,660187550),model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}}):e._e(),e._v(" "),e.userState.isAdmin?n("q-input",{attrs:{color:"secondary",disable:e.form.isBeingSent,label:"Liczba członków",outlined:"",required:"",square:"","stack-label":""},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"plus_one"}})]},proxy:!0}],null,!1,3423541275),model:{value:e.form.members,callback:function(t){e.$set(e.form,"members",e._n(t))},expression:"form.members"}}):e._e(),e._v(" "),n("q-input",{attrs:{color:"secondary",disable:e.form.isBeingSent,label:"Link do grupy",outlined:"",required:"",square:"","stack-label":""},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"link"}})]},proxy:!0}],null,!1,4121916954),model:{value:e.form.link,callback:function(t){e.$set(e.form,"link","string"==typeof t?t.trim():t)},expression:"form.link"}}),e._v(" "),n("q-select",{attrs:{color:"secondary",disable:e.form.isBeingSent||"Tag-grupka"===e.form.type,label:"Kategorie",multiple:"",options:e.sections.categories,"options-dense":"",outlined:"",square:"","stack-label":""},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}}),e._v(" "),n("q-input",{staticClass:"q-mb-lg",attrs:{color:"secondary",disable:e.form.isBeingSent||"Tag-grupka"===e.form.type,error:e.form.keywords.invalid,hint:"Jeśli nazwa twojej grupy lub link do niej nie jest oczywisty, dodaj słowa kluczowe, aby można było po nich ją wyszukać. Muszą być one oddzielone przecinkiem.",label:"Słowa kluczowe",outlined:"",square:"","stack-label":""},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"list"}})]},proxy:!0}],null,!1,310854456),model:{value:e.form.keywords,callback:function(t){e.$set(e.form,"keywords","string"==typeof t?t.trim():t)},expression:"form.keywords"}}),e._v(" "),n("q-btn",{attrs:{color:"secondary",disable:e.form.isBeingSent,label:"Wyślij",loading:e.form.isBeingSent,"no-caps":"",outline:"",type:"submit"}})],1)],1):n("q-spinner",{attrs:{color:"secondary",size:"lg"}}),e._v(" "),n("q-dialog",{model:{value:e.form.wasSend,callback:function(t){e.$set(e.form,"wasSend",t)},expression:"form.wasSend"}},[n("q-card",[n("q-card-section",[n("h6",{staticClass:"q-ma-none q-mb-md"},[e._v("Informacja")])]),e._v(" "),n("q-card-section",{staticClass:"q-pt-none"},[e._v("\n        Prośba o dodanie grupy do spisu sekcji została pomyślnie wysłana.\n        Zostanie ona dodana w najbliższym możliwym czasie.\n      ")]),e._v(" "),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"secondary",flat:"",label:"OK"}})],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);